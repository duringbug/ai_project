<!--
 * @Description: 
 * @Author: 唐健峰
 * @Date: 2023-09-14 15:21:44
 * @LastEditors: ${author}
 * @LastEditTime: 2023-09-16 17:30:32
-->
## 词袋模型
词袋模型(Bag of Words，BoW):将文本视为词汇表中的词语集合，然后计算每个词语在文本中的出现频率。这将创建一个词频向量，其中每个元素表示对应词汇表中词语的出现次数。词袋模型忽略了词语的顺序和语法结构，只关注词汇表中的词汇。

## 我采用的词袋模型的得分算法

$$f(x) = \frac{ TF(t, d) \cdot LDF(t, D)}{ e ^ { \left( -\sum_{i=0}^{N} p(x) \cdot \log_2(p(x)) \right)}}$$

## 线性得分函数成功实施下输出有至少90%的成功率(w为对参数b=0进行优化)

**该得分算法具有良好的区分性**

```python
python -u python /Volumes/TJF_YINGPAN/ai_project/project_1/src/python/__test__.py
```

```bash

tangjianfeng@tangjianfengdeMacBook-Air project_1 % python -u /Volumes/TJF_YINGPAN/ai_project/project_1/src/python/__test__.py
/Volumes/TJF_YINGPAN/ai_project/project_1/src/python/cloud/duringbug/preprocessing/read.py:44: DeprecationWarning: Sampling from a set deprecated
since Python 3.9 and will be removed in a subsequent version.
  random_numbers = set(random.sample(all_numbers, 400))
训练集4000条与测试集4000条划分成功
遍历my_train_txt中: 100%|████████████████████████████████████████████████████████████████████████████████████| 4000/4000 [00:25<00:00, 158.32it/s]
计算第0类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6547/6547 [00:00<00:00, 2424733.62it/s]
计算第1类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 5010/5010 [00:00<00:00, 2459440.90it/s]
计算第2类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 5127/5127 [00:00<00:00, 2514228.53it/s]
计算第3类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4236/4236 [00:00<00:00, 2496076.39it/s]
计算第4类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4375/4375 [00:00<00:00, 2474724.21it/s]
计算第5类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 5380/5380 [00:00<00:00, 2475900.32it/s]
计算第6类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6558/6558 [00:00<00:00, 2474473.34it/s]
计算第7类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4732/4732 [00:00<00:00, 2599875.10it/s]
计算第8类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4634/4634 [00:00<00:00, 2564846.23it/s]
计算第9类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6335/6335 [00:00<00:00, 2493282.90it/s]
计算每类的词总数: 100%|█████████████████████████████████████████████████████████████████████████████████| 23680/23680 [00:00<00:00, 377437.31it/s]
计算TF中: 100%|█████████████████████████████████████████████████████████████████████████████████████████| 23680/23680 [00:00<00:00, 234290.47it/s]
储存TF-IDF中: 100%|█████████████████████████████████████████████████████████████████████████████████████| 23680/23680 [00:00<00:00, 220600.85it/s]
计算每个词的信息熵: 100%|████████████████████████████████████████████████████████████████████████████████| 23680/23680 [00:00<00:00, 87399.10it/s]
储存score向量矩阵: 100%|████████████████████████████████████████████████████████████████████████████████| 23680/23680 [00:00<00:00, 141672.58it/s]
遍历test_my_train_txt中: 100%|███████████████████████████████████████████████████████████████████████████████| 4000/4000 [00:27<00:00, 144.28it/s]
正确率:0.95775
遍历test_my_verification_data中: 100%|███████████████████████████████████████████████████████████████████████| 4000/4000 [00:28<00:00, 141.58it/s]
正确率:0.92175
.
----------------------------------------------------------------------
Ran 2 tests in 82.571s

OK
```

## 偏置系数提高不大，大概在0.2到0.4个百分点之间


**使用BFGS算法**

```bash
tangjianfeng@tangjianfengdeMacBook-Air project_1 % python -u "/Volumes/TJF_YINGPAN/ai_project/project_1/src/python/__test__.py"
/Volumes/TJF_YINGPAN/ai_project/project_1/src/python/cloud/duringbug/preprocessing/read.py:44: DeprecationWarning: Sampling from a set deprecated
since Python 3.9 and will be removed in a subsequent version.
  random_numbers = set(random.sample(all_numbers, 400))
训练集4000条与测试集4000条划分成功
遍历my_train_txt中: 100%|████████████████████████████████████████████████████████████████████████████████████| 4000/4000 [00:24<00:00, 160.56it/s]
计算第0类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6559/6559 [00:00<00:00, 2418500.21it/s]
计算第1类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4967/4967 [00:00<00:00, 2526756.58it/s]
计算第2类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 5069/5069 [00:00<00:00, 2507184.78it/s]
计算第3类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4208/4208 [00:00<00:00, 2462281.14it/s]
计算第4类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4503/4503 [00:00<00:00, 2364711.52it/s]
计算第5类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 5401/5401 [00:00<00:00, 2475244.31it/s]
计算第6类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6430/6430 [00:00<00:00, 2456003.53it/s]
计算第7类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4652/4652 [00:00<00:00, 2553245.51it/s]
计算第8类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 4698/4698 [00:00<00:00, 2460951.69it/s]
计算第9类文章的IDF: 100%|████████████████████████████████████████████████████████████████████████████████| 6396/6396 [00:00<00:00, 2395674.98it/s]
计算每类的词总数: 100%|█████████████████████████████████████████████████████████████████████████████████| 23603/23603 [00:00<00:00, 379656.76it/s]
计算TF中: 100%|█████████████████████████████████████████████████████████████████████████████████████████| 23603/23603 [00:00<00:00, 245742.02it/s]
储存TF-IDF中: 100%|█████████████████████████████████████████████████████████████████████████████████████| 23603/23603 [00:00<00:00, 219744.91it/s]
计算每个词的信息熵: 100%|████████████████████████████████████████████████████████████████████████████████| 23603/23603 [00:00<00:00, 89503.61it/s]
储存score向量矩阵: 100%|████████████████████████████████████████████████████████████████████████████████| 23603/23603 [00:00<00:00, 140608.00it/s]
遍历test_my_train_txt中: 100%|████████████████████████████████████████████████████████████████████████████████| 4000/4000 [05:08<00:00, 12.97it/s]
正确率:0.9605
遍历test_my_verification_data中: 100%|███████████████████████████████████████████████████████████████████████| 4000/4000 [00:27<00:00, 146.43it/s]
[-1.58153280e-05 -1.00945128e-03  1.73159759e-04  1.21804881e-04
  9.75286359e-04  3.00024779e-04 -6.88758915e-04  6.81572796e-04
 -1.83270574e-04 -3.54697815e-04]
正确率:0.925
无偏置向量b下遍历test_my_verification_data中: 100%|██████████████████████████████████████████████████████████| 4000/4000 [00:27<00:00, 146.14it/s]
正确率:0.92275
.
----------------------------------------------------------------------
Ran 1 test in 389.487s

OK
```
